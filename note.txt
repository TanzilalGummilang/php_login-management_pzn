# Controller {
  ## menerima request dari user dan menyampaikan ke model dan service
  ## lalu mengembalikan response ke user dgn tampilan dari view 
}

# Domain = representasi dari table di database
# Repository = semua aksi yg berhubungan dgn database

# Service = semua bisnis logic
# Model = data value parameter dan return value dari Service (bisa juga disebut Data Transfer Object (DTO))

# UserController {
  ## function register = untuk tampilan awal registrasi
  ## function postRegister = aksi register (perlu service dan model)
}

# SessionRepository {
  ## langkah-langkah {
    1. Domain {
      - buat Domain representasi dari session
    }
    2. SessionRepository {
      - create/insert data session
      - delete session (setelah logout)
      - cek session, select sesssion berdasarkan id
      - delete semua session utk unittest
      - buat connection ke database dan constructornya
    }
    3. buat unit test nya
  }
}

# SessionService {
  ## mengikuti format session {
    - setelah login session dibuat
    - setelah logout session dihapus
    - kadang2 kita ingin tau session saat ini
  }
  ## jadi yg akan dibuat adalah {
    - create/buat session
    - destroy/hapus session
    - current = session saat ini
    - constructor utk SessionRepository
    - pake cookie utk simpan data session id (session php agak bermasalah (materi php web))
    - unit test nya, bikin dummy setcookie karena ini sama seperti menambah header (error cannot modify header), penjelasan error tsb ada di eps 261 Unit Test User Registation Controller dimulai menit ke 6:02
  }
  ## setelah delete cookie dari database, cookie perlu diubah lagi, cookie tidak otomatis hilang
  ## pada unit test, function setUp(), function deleteAll() urutannya jgn ketuker, alasannya karena di SessionRepository ada foreign key ke userRepository, kondisi ini berlaku utk ke depannya juga.
}

# Login Session {
  ## UserController {
    - setelah login, kita akan redirect ke halaman dasboardnya, tapi session service belum dipanggil, jadi diclass ini kita panggil SessionService nya
    - postLogin: setelah login, sebelum redirect, setcookie/create terlebih dahulu
  }
  ## HomeController {
    - jika selesai login maka akan di redirect kesini,
    - maka perlu beberapa pengecekan terlebih dahulu disini, jika belum pernah login berarti masih akun guest (home/index), jika pernah login maka tampilkan dashboard (home/dashboard)
  }
  ## bikin HomeControllerTest
  ## update UserControllerTest {
    - error 'intrgrity constraint bla..bla..' karena ada data di tabel session
    - perlu menambahkan SessionRepository
    - setelah menambahkan lalu di running, akan terjadi error di testLoginSuccess (error cannot modify header bla..bla..)
    - maka perlu dummy setcookie seperti di SessionService
  }
}

# Logout {
  ## UserController {
    - bikin function logout, isinya destroy cookie, lalu redirect ke halaman home atau login juga boleh 
  }
  ## public/index.php {
    - tambah route logout, methodnya GET karena pake link
  }
}